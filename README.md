### Java性能优化
<pre>
1 更少的代码
    1）小程序运行比大程序要快
    2）需要编译的代码越多等待程序启动耗时越长
    3）需要创建的对象越多，垃圾收集量就越大，要分配持有的对象越多，GC周期就越长
    4）从磁盘装载进入JVM的类越多，程序启动话费时间越长
    5）要执行的代码越多，机器硬件缓存的效率就越低，耗时会越长
    随着单个应用程序的功能越来越大，程序的运行效率越来越低，要避免积少成多的效率降低，适时地的拆分应用
2 更优秀的算法
3 数据库的瓶颈
</pre>

<pre>
性能监控重点指数
 1 Cpu使用率
    1）用户态
    2）系统态
 2 磁盘使用率
    大量的IO操作使得磁盘很容易成为瓶颈
    命令 iostat  写入  读取
 3 网络使用率
    nicstat
</pre>

<pre>
调优
选择编译器的类型
   Java编译器的类型选择
      1）client编译器
      2）server编译器
   JIT编译器的版本
   逃逸分析
      逆优化
</pre>

<pre>
垃圾收集器
   1) Serial垃圾收集器
   2) Throughput垃圾收集器
   3) CMS收集器
   5) G1收集器 
</pre>

<pre>
JVM线程调优
</pre>

<pre>
Web容器的性能调优
</pre>

<pre>
数据库调优
</pre>

<pre>
JAVA 大页面支持

          页表是被存储在内存中的，CPU通过总线访问内存，肯定慢于直接访问寄存器的，为了进
      一步优化性能，现代CPU架构引入了TLB，用来缓存一部分经常访问的页表内容。

          TLB是有限的，当超出TLB的存储极限时，就会发生TLB miss，之后，OS就会命令CPU去
      访问内存上的页表。如果频繁的出现TLB miss，程序的性能就会下降的很快。

          为了让TLB可以存储更多的页地址映射关系，我们的做法是调大内存分页大小。

          如果一个页4M，对比一个页4K，前者可以让TLB多存储1000个页地址映射关系，性能的
      提升是比较可观的。

          JVM启用时加参数 -XX:LargePageSizeInBytes=10m

          其实除了JVM可以使用大页面提高性能，还有一种应用更符合内存密集型的场景，那就是
      数据库。数据库的调优中很早就有了这部分的建议
</pre>